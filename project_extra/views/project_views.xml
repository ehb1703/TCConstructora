<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="view_licitacion_data_from" model="ir.ui.view">
        <field name="name">view.licitacion.data.from</field>
        <field name="model">project.project</field>
        <field name="inherit_id" ref="project.edit_project"/>
        <field name="arch" type="xml">
            <xpath expr="//notebook[last()]" position="inside">
                <page string="Localizacion" name="geo_location">
                    <group string="Ubicación de la Obra">
                        <span>Ubicación</span>
                        <div class="o_address_format">
                            <field name="country_id" class="o_address_country" placeholder="País" options="{'no_open':True, 'no_create':True}"/>
                            <field name="state_id" class="o_address_state" placeholder="Estado" options="{'no_open':True, 'no_create':True}}" domain="[('country_id','=',country_id)]"/>
                            <field name="city_id" placeholder="Ciudad" class="o_address_city" domain="[('state_id','=',state_id)]" options="{'no_open':True, 'no_create':True}"/>
                            <field name="street" placeholder="Calle..." class="o_address_street"/>
                            <field name="between_streets" placeholder="Entre Calles..." class="o_address_street"/>
                            <field name="col" placeholder="Colonia..." class="o_address_street"/>
                            <field name="zip" placeholder="CP" class="o_address_zip"/>
                        </div>
                    </group>
                    <group>
                        <field name="centro" widget="url"/>
                        <field name="tramo" widget="url"/>
                    </group>
                    <group string="Geolocalizacion">
                        <label for="date_localization" string="Geolocalizacion"/>
                        <div>
                            <span>Lat : <field name="partner_latitude" nolabel="1" class="oe_inline"/></span><br/>
                            <span>Long: <field name="partner_longitude" nolabel="1" class="oe_inline"/></span><br/>
                            <span invisible="not date_localization">Updated on:
                                <field name="date_localization" nolabel="1" readonly="1" class="oe_inline"/><br/>
                            </span>
                            <div name="geo_localize_button">
                                <button invisible="partner_latitude != 0 or partner_longitude != 0" icon="fa-gear" string="Compute based on address" title="Compute Localization" name="geo_localize" type="object" class="btn btn-link p-0"/>
                                <button invisible="partner_latitude == 0 and partner_longitude == 0" icon="fa-refresh" string="Refresh" title="Refresh Localization" name="geo_localize" type="object" class="btn btn-link p-0"/>
                            </div>
                        </div>
                    </group>
                </page>
                <page string="Datos de la obra" name="data_project">
                    <group>
                        <group>
                            <field name="dependencia"/>
                            <field name="bloque"/>
                            <field name="licitacion"/>
                            <field name="num_contrato"/>
                            <field name="fianzas"/>
                        </group>
                        <group>
                            <field name="authorized_budget"/>
                            <field name="cost_overrun"/>
                            <field name="superficie"/>
                            <field name="type_id"/>
                            <field name="responsable_id"/>
                        </group>
                    </group>
                    <group string="Residentes">
                        <field name="resident_ids">
                            <list>
                                <field name="resident_id"/>
                                <field name="active"/>
                            </list>
                        </field>
                    </group>
                </page>
                <page string="Documentos">
                    <br/>
                    <button name="cargar_docs" string="Documentos" icon="fa-archive" class="btn-primary" type="object"/>
                    <field name="documentos_ids" nolabel="1">
                        <list decoration-success="requerido == True" decoration-bf="generado != False" editable="bottom" create="0" delete="0">
                            <field name="requerido" readonly="1"/>
                            <field name="docto_id" readonly="1" options="{'no_create':True, 'no_open':True}"/>
                            <field name="generado"/>
                        </list>
                        <!--form><p>Información no disponible a través de esta vista</p></form-->
                     </field>
                </page>
            </xpath>
        </field>
    </record>
</odoo>
