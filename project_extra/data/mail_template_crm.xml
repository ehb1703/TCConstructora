<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="0">

        <record id="calif_mail_tmpl_convocatoria_autorizacion" model="mail.template">
            <field name="name">Solicitud de Autorizaci√≥n de Convocatoria</field>
            <field name="model_id" ref="crm.model_crm_lead"/>
            <field name="email_from">Sistema &lt;no-reply@mi-empresa.com&gt;</field>
            <field name="email_to"></field>
            <field name="subject">[Convocatoria] Solicitud de autorizaci√≥n - {{object.name}}</field>
            <field name="body_html" type="html">
                <div style="font-family: Arial, sans-serif; font-size: 14px; color: #333;">
                    <p>Estimado/a,</p>
                    <p>Se ha registrado una <b>solicitud de autorizaci√≥n</b> para la convocatoria:</p>
                    <ul>
                        <li><b>Nombre: </b><t t-if="object.name"><span t-out="object.name or ''"/></t></li>
                        <li><b>Dependencia emisora: </b><t t-if="object.partner_emisor_id"><t t-out="object.partner_emisor_id.name"></t></t></li>
                        <li><b>Tipo de obra: </b><t t-if="object.tipo_obra_id"><t t-out="object.tipo_obra_id.name"></t></t></li>
                        <li><b>Zona geogr√°fica: </b><t t-if="object.zona_geografica_id"><t t-out="object.zona_geografica_id.name"></t></t></li>
                        <li><b>Fecha convocatoria: </b><t t-if="object.fecha_convocatoria"><t t-out="object.fecha_convocatoria"></t></t></li>
                        <li><b>Fecha l√≠mite inscripci√≥n: </b><t t-if="object.fecha_limite_inscripcion"><t t-out="object.fecha_limite_inscripcion"></t></t></li>
                    </ul>
                    <table align="center">
                        <tr>
                            <td>
                                <a t-att-href="'%s/project_extra/convocatoria/%s/authorize' % (object.get_base_url(), object.id)" style="display:inline-block; padding:8px 14px; background:#28a745; color:#fff; border-radius:4px; text-decoration:none; font-size:12px;">Autorizar</a>
                            </td>
                            <td>
                                <a t-att-href="'%s/project_extra/convocatoria/%s/decline' % (object.get_base_url(), object.id)" style="display:inline-block;padding:8px 14px;background:#dc3545;color:#fff;border-radius:4px;text-decoration:none;font-size:12px;">Declinar</a>
                            </td>
                            <td>
                                <a t-att-href="'%s/web#id=%s&amp;model=crm.lead&amp;view_type=form' % (object.get_base_url(), object.id)" style="display:inline-block; padding:8px 14px; background:#6c757d; color:#fff; border-radius:4px; text-decoration:none;font-size:12px;">Ver</a>
                            </td>
                        </tr>
                    </table>
                    <p>Enviado autom√°ticamente por el Sistema.</p>
                </div>
            </field>
        </record>

        <record id="mail_tmpl_bases_solicitud" model="mail.template">
            <field name="name">Solicitud de Autorizaci√≥n de Compra de Bases</field>
            <field name="model_id" ref="crm.model_crm_lead"/>
            <field name="email_from">Sistema &lt;no-reply@mi-empresa.com&gt;</field>
            <field name="email_to"></field>
            <field name="subject">[Bases] Solicitud de autorizaci√≥n - {{object.name}}</field>
            <field name="body_html" type="html">
                <div style="font-family: Arial, sans-serif; font-size: 14px; color: #333;">
                    <p>Estimado/a,</p>
                    <p>Se ha registrado una <b>solicitud de autorizaci√≥n</b> para la compra de bases para la convocatoria con N√∫mero de Licitaci√≥n <span t-out="object.no_licitacion or ''"/>:</p>
                    <ul>
                        <li><b>Nombre: </b><t t-if="object.name"><span t-out="object.name or ''"/></t></li>
                        <li><b>Dependencia emisora: </b><t t-if="object.partner_emisor_id"><t t-out="object.partner_emisor_id.name"></t></t></li>
                        <li><b>Tipo de obra: </b><t t-if="object.tipo_obra_id"><t t-out="object.tipo_obra_id.name"></t></t></li>
                        <li><b>Zona geogr√°fica: </b><t t-if="object.zona_geografica_id"><t t-out="object.zona_geografica_id.name"></t></t></li>
                        <li><b>Fecha convocatoria: </b><t t-if="object.fecha_convocatoria"><t t-out="object.fecha_convocatoria"></t></t></li>
                        <li><b>Fecha l√≠mite inscripci√≥n: </b><t t-if="object.fecha_limite_inscripcion"><t t-out="object.fecha_limite_inscripcion"></t></t></li>
                    </ul>
                    <table align="center">
                        <tr>
                            <td>
                                <a t-att-href="'%s/project_extra/bases/%s/authorize' % (object.get_base_url(), object.id)" style="display:inline-block; padding:8px 14px; background:#28a745; color:#fff; border-radius:4px; text-decoration:none; font-size:12px;"> Autorizar </a>
                            </td>
                            <td>
                                <a t-att-href="'%s/project_extra/bases/%s/decline' % (object.get_base_url(), object.id)" style="display:inline-block; padding:8px 14px; background:#dc3545; color:#fff; border-radius:4px; text-decoration:none; font-size:12px;"> Declinar </a>
                            </td>
                            <td>
                                <a t-att-href="'%s/web#id=%s&amp;model=crm.lead&amp;view_type=form' % (object.get_base_url(), object.id)" style="display:inline-block; padding:8px 14px; background:#6c757d; color:#fff; border-radius:4px; text-decoration:none; font-size:12px;"> Ver </a>
                            </td>
                        </tr>
                    </table>
                    <p>Enviado autom√°ticamente por el Sistema.</p>
                </div>
            </field>
        </record>

        <record id="mail_tmpl_bases_autorizar" model="mail.template">
            <field name="name">Compra de bases</field>
            <field name="model_id" ref="purchase.model_purchase_order"/>
            <field name="email_from">Sistema &lt;no-reply@mi-empresa.com&gt;</field>
            <field name="email_to"></field>
            <field name="subject">[Orden de Compra] Base - {{object.name}}</field>
            <field name="body_html" type="html">
                <div style="font-family: Arial, sans-serif; font-size: 14px; color: #333;">
                    <p>Estimado/a,</p>
                    <p>Se ha registrado una <b>orden de compra de bases</b> para la convocatoria:</p>
                    <ul>
                        <li><b>Nombre: </b><t t-if="object.lead_id.name"><span t-out="object.lead_id.name or ''"/></t></li>
                        <li><b>Dependencia emisora: </b><t t-if="object.partner_id"><t t-out="object.partner_id.name"/></t></li>
                        <li><b>Tipo de obra: </b><t t-if="object.lead_id.tipo_obra_id"><t t-out="object.lead_id.tipo_obra_id.name"/></t></li>
                        <li><b>Costo de bases: </b><t t-if="object.amount_total"><t t-out="object.amount_total"/></t></li>
                    </ul>
                    <p>
                        Abrir en la Aplicaci√≥n:
                        <a t-att-href="'%s/web#id=%s&amp;model=purchase.order&amp;view_type=form' % (object.get_base_url(), object.id)" style="color:#1A73E8; text-decoration:none;" target="_blank" rel="noopener"> Ver orden de compra</a>
                    </p>
                    <p>Enviado autom√°ticamente por el Sistema.</p>
                </div>
            </field>
        </record>

        <record id="mail_tmpl_visita_recordatorio" model="mail.template">
            <field name="name">Recordatorio de Visita de Obra</field>
            <field name="model_id" ref="crm.model_crm_lead"/>
            <field name="email_from">Sistema &lt;no-reply@mi-empresa.com&gt;</field>
            <field name="email_to"></field>
            <field name="subject">[Visita de Obra] Recordatorio - {{object.name}}</field>
            <field name="body_html" type="html">
                <div style="font-family: Arial, sans-serif; font-size: 14px; color: #333;">
                    <p>Estimado/a,</p>
                    <p>Este es un recordatorio de la <b>visita de obra</b> programada.</p>
                    <ul>
                        <li><b>Convocatoria: </b><t t-out="object.name or ''"/></li>
                        <li><b>Fecha y hora de visita: </b><t t-if="object.visita_fecha"><t t-out="format_datetime(object.visita_fecha, dt_format='long')">day, month dd, yyyy - hh:mm:ss (GMT)</t></t></li>
                        <li><b>Lugar de reuni√≥n: </b><t t-if="object.visita_lugar_reunion"><t t-out="object.visita_lugar_reunion"/></t></li>
                        <li><b>Personas asignadas: </b><t t-if="object.visita_personas_ids"><t t-out="', '.join(object.visita_personas_ids.mapped('name'))"/></t></li>
                    </ul>
                    <p>
                        Abrir en la Aplicaci√≥n:
                        <a t-att-href="'%s/web#id=%s&amp;model=crm.lead&amp;view_type=form' % (object.get_base_url(), object.id)" style="color:#1A73E8; text-decoration:none;" target="_blank" rel="noopener">Ver convocatoria</a>
                    </p>
                    <p>Enviado autom√°ticamente por el Sistema.</p>
                </div>
            </field>
        </record>

        <record id="mail_tmpl_apertura_recordatorio" model="mail.template">
            <field name="name">Recordatorio junta de apertura de propuestas</field>
            <field name="model_id" ref="crm.model_crm_lead"/>
            <field name="email_from">Sistema &lt;no-reply@mi-empresa.com&gt;</field>
            <field name="email_to"></field>
            <field name="subject">[Junta de apertura de propuestas] Recordatorio - {{ object.name }}</field>
            <field name="body_html" type="html">
                <div style="font-family: Arial, sans-serif; font-size: 14px; color: #333;">
                    <p>Buen d√≠a,</p>
                    <p>
                        Se les recuerda la <b>junta de apertura de propuestas</b> de la convocatoria <b><t t-out="object.name or ''"/></b>.
                    </p>
                    <ul>
                        <li><b>Fecha de la junta: </b><t t-if="object.apertura_fecha"><t t-out="format_datetime(object.apertura_fecha, dt_format='long')">day, month dd, yyyy - hh:mm:ss (GMT)</t></t></li>
                        <li><b>Lugar de reuni√≥n: </b><t t-if="object.apertura_lugar_reunion"><t t-out="object.apertura_lugar_reunion"/></t></li>
                    </ul>
                    <p>
                        Abrir en la Aplicaci√≥n:
                        <a t-att-href="'%s/web#id=%s&amp;model=crm.lead&amp;view_type=form' % (object.get_base_url(), object.id)" style="color:#1A73E8; text-decoration:none;" target="_blank" rel="noopener"> Ver convocatoria </a>
                    </p>
                    <p>Enviado autom√°ticamente por el Sistema.</p>
                </div>
            </field>
        </record>

        <record id="mail_tmpl_fallo_ganado" model="mail.template">
            <field name="name">Notificaci√≥n fallo GANADO</field>
            <field name="model_id" ref="crm.model_crm_lead"/>
            <field name="email_from">Sistema &lt;no-reply@mi-empresa.com&gt;</field>
            <!-- Deja email_to vac√≠o para que sea configurable desde la UI -->
            <field name="email_to">Sistema &lt;no-reply@mi-empresa.com&gt;</field>
            <field name="subject">[Fallo] Resultado GANADO - {{ object.name }}</field>
            <field name="body_html" type="html">
                <div style="font-family: Arial, sans-serif; font-size: 14px; color: #333;">
                    <p>Buen d√≠a,</p>
                    <p>
                        Se informa que la licitaci√≥n correspondiente a la convocatoria <b><t t-out="object.name or ''"/></b> ha sido marcada como <b>GANADA</b> en el sistema.
                    </p>
                    <ul>
                        <li><b>Fecha y hora de la junta: </b><t t-if="object.fallo_fecha"><t t-out="format_datetime(object.fallo_fecha, dt_format='long')">day, month dd, yyyy - hh:mm:ss (GMT)</t></t></li>
                        <li><b>Lugar de reuni√≥n: </b><t t-if="object.fallo_lugar_reunion"><t t-out="object.fallo_lugar_reunion"/></t></li>
                    </ul>
                    <p>
                        Abrir en la Aplicaci√≥n:
                        <a t-att-href="'%s/web#id=%s&amp;model=crm.lead&amp;view_type=form' % (object.get_base_url(), object.id)" style="color:#1A73E8; text-decoration:none;" target="_blank" rel="noopener"> Ver convocatoria </a>
                    </p>
                    <p>Enviado autom√°ticamente por el Sistema.</p>
                </div>
            </field>
        </record>

        <record id="fallo_ganado_mail_tmpl_directores" model="mail.template">
            <field name="name">Notificaci√≥n fallo GANADO a Directores</field>
            <field name="model_id" ref="crm.model_crm_lead"/>
            <field name="email_from">Sistema &lt;no-reply@mi-empresa.com&gt;</field>
            <field name="email_to"></field>
            <field name="subject">[Fallo GANADO] Notificaci√≥n a Direcci√≥n - {{ object.name }}</field>
            <field name="body_html" type="html">
                <div style="font-family: Arial, sans-serif; font-size: 14px; color: #333;">
                    <p>Estimado/a Director/a,</p>
                    <p>
                        Se le informa que la licitaci√≥n correspondiente a la convocatoria <b><t t-out="object.name or ''"/></b> ha sido marcada como <b style="color: #28a745;">GANADA</b> en el sistema.
                    </p>
                    <ul>
                        <li><b>No. de Procedimiento: </b><t t-if="object.no_licitacion"><t t-out="object.no_licitacion"/></t></li>
                        <li><b>Dependencia emisora: </b><t t-if="object.partner_emisor_id"><t t-out="object.partner_emisor_id.name"/></t></li>
                        <li><b>Tipo de obra: </b><t t-if="object.tipo_obra_id"><t t-out="object.tipo_obra_id.name"/></t></li>
                        <li><b>Fecha de la junta de fallo: </b><t t-if="object.fallo_fecha"><t t-out="format_datetime(object.fallo_fecha, dt_format='long')">day, month dd, yyyy - hh:mm:ss (GMT)</t></t></li>
                    </ul>
                    <p>
                        Abrir en la Aplicaci√≥n:
                        <a t-att-href="'%s/web#id=%s&amp;model=crm.lead&amp;view_type=form' % (object.get_base_url(), object.id)" style="color:#1A73E8; text-decoration:none;" target="_blank" rel="noopener"> Ver convocatoria </a>
                    </p>
                    <p>Enviado autom√°ticamente por el Sistema.</p>
                </div>
            </field>
        </record>

        <record id="mail_tmpl_junta_line_recordatorio" model="mail.template">
            <field name="name">Recordatorio de Junta de Aclaraci√≥n de Dudas (L√≠nea)</field>
            <field name="model_id" ref="project_extra.model_crm_junta_line"/>
            <field name="email_from">Sistema &lt;no-reply@mi-empresa.com&gt;</field>
            <field name="email_to"></field>
            <field name="subject">[Junta de Aclaraci√≥n de Dudas] Recordatorio - {{ object.lead_id.name }}</field>
            <field name="body_html" type="html">
                <div style="font-family: Arial, sans-serif; font-size: 14px; color: #333; max-width: 600px; margin: 0 auto;">
                    <div style="background: #00796B; color: white; padding: 15px 20px; border-radius: 8px 8px 0 0;">
                        <h2 style="margin: 0; font-size: 18px;">üìã Recordatorio de Junta de Aclaraci√≥n de Dudas</h2>
                    </div>
                    <div style="background: #f9f9f9; padding: 20px; border: 1px solid #ddd; border-top: none;">
                        <p style="margin-top: 0;">Buen d√≠a,</p>
                        <p>Se les recuerda la <b>junta de aclaraci√≥n de dudas</b> de la convocatoria:</p>
                        <div style="background: white; border-left: 4px solid #00796B; padding: 15px; margin: 15px 0;">
                            <p style="margin: 0 0 10px 0;"><b>üìå Convocatoria:</b> <t t-out="object.lead_id.name or ''"/></p>
                            <p style="margin: 0;" t-if="object.lead_id.no_licitacion"><b>üìã No. Procedimiento:</b> <t t-out="object.lead_id.no_licitacion"/></p>
                        </div>
                        <h3 style="color: #00796B; border-bottom: 2px solid #00796B; padding-bottom: 5px;">Detalles de la Junta</h3>
                        <table style="width: 100%; border-collapse: collapse; margin: 10px 0;">
                            <tr>
                                <td style="padding: 8px; background: #e8f5e9; width: 40%;"><b>üìÖ Fecha y hora:</b></td>
                                <td style="padding: 8px; background: #f5f5f5;">
                                    <t t-if="object.fecha_hora"><t t-out="format_datetime(object.fecha_hora, dt_format='long')"/>day, month dd, yyyy - hh:mm:ss (GMT)</t>
                                </td>
                            </tr>
                            <tr t-if="object.descripcion">
                                <td style="padding: 8px; background: #e8f5e9;"><b>üìù Descripci√≥n:</b></td>
                                <td style="padding: 8px; background: #f5f5f5;"><t t-out="object.descripcion"/></td>
                            </tr>
                            <tr t-if="object.lugar_reunion">
                                <td style="padding: 8px; background: #e8f5e9;"><b>üìç Lugar de reuni√≥n:</b></td>
                                <td style="padding: 8px; background: #f5f5f5;"><t t-out="object.lugar_reunion"/></td>
                            </tr>
                            <tr t-if="object.fecha_limite_preguntas">
                                <td style="padding: 8px; background: #fff3e0;"><b>‚è∞ Fecha l√≠mite preguntas:</b></td>
                                <td style="padding: 8px; background: #f5f5f5;"><t t-out="format_datetime(object.fecha_limite_preguntas, dt_format='long')"/>day, month dd, yyyy - hh:mm:ss (GMT)</td>
                            </tr>
                        </table>
                        <div style="text-align: center; margin: 20px 0;">
                            <a t-att-href="'%s/web#id=%s&amp;model=crm.lead&amp;view_type=form' % (object.lead_id.get_base_url(), object.lead_id.id)" 
                               style="display: inline-block; padding: 12px 24px; background: #00796B; color: white; text-decoration: none; border-radius: 5px; font-weight: bold;">
                                Ver Convocatoria
                            </a>
                        </div>
                        <p style="color: #666; font-size: 12px; margin-bottom: 0;">Enviado autom√°ticamente por el Sistema.</p>
                    </div>
                </div>
            </field>
        </record>

        <!-- T0050: Plantilla para recordatorio de fecha l√≠mite de preguntas (modelo crm.junta.line) -->
        <record id="mail_tmpl_junta_line_deadline" model="mail.template">
            <field name="name">Recordatorio Fecha L√≠mite Preguntas (L√≠nea Junta)</field>
            <field name="model_id" ref="project_extra.model_crm_junta_line"/>
            <field name="email_from">Sistema &lt;no-reply@mi-empresa.com&gt;</field>
            <field name="email_to"></field>
            <field name="subject">[URGENTE] Fecha L√≠mite para Env√≠o de Preguntas - {{ object.lead_id.name }}</field>
            <field name="body_html" type="html">
                <div style="font-family: Arial, sans-serif; font-size: 14px; color: #333; max-width: 600px; margin: 0 auto;">
                    <div style="background: #E65100; color: white; padding: 15px 20px; border-radius: 8px 8px 0 0;">
                        <h2 style="margin: 0; font-size: 18px;">‚ö†Ô∏è Recordatorio: Fecha L√≠mite para Env√≠o de Preguntas</h2>
                    </div>
                    <div style="background: #fff3e0; padding: 20px; border: 1px solid #ffcc80; border-top: none;">
                        <p style="margin-top: 0;">Buen d√≠a,</p>
                        <p>Este es un recordatorio de que <b>ma√±ana vence el plazo</b> para enviar preguntas y dudas para la junta de aclaraci√≥n de la convocatoria:</p>
                        <div style="background: white; border-left: 4px solid #E65100; padding: 15px; margin: 15px 0;">
                            <p style="margin: 0 0 10px 0;"><b>üìå Convocatoria:</b> <t t-out="object.lead_id.name or ''"/></p>
                            <p style="margin: 0 0 10px 0;" t-if="object.descripcion"><b>üìã Junta:</b> <t t-out="object.descripcion"/></p>
                            <p style="margin: 0; color: #E65100; font-size: 16px;">
                                <b>‚è∞ Fecha l√≠mite:</b> 
                                <t t-if="object.fecha_limite_preguntas"><t t-out="format_datetime(object.fecha_limite_preguntas, dt_format='long')"/>day, month dd, yyyy - hh:mm:ss (GMT)</t>
                            </p>
                        </div>
                        <p style="background: #ffecb3; padding: 10px; border-radius: 5px;">
                            <b>üìù Nota:</b> Posterior a esta fecha, las dependencias no admiten preguntas adicionales.
                            No es necesario realizar ninguna acci√≥n adicional si la informaci√≥n ya fue enviada.
                        </p>
                        <div style="text-align: center; margin: 20px 0;">
                            <a t-att-href="'%s/web#id=%s&amp;model=crm.lead&amp;view_type=form' % (object.lead_id.get_base_url(), object.lead_id.id)" 
                               style="display: inline-block; padding: 12px 24px; background: #E65100; color: white; text-decoration: none; border-radius: 5px; font-weight: bold;">
                                Ver Convocatoria
                            </a>
                        </div>
                        <p style="color: #666; font-size: 12px; margin-bottom: 0;">Enviado autom√°ticamente por el Sistema.</p>
                    </div>
                </div>
            </field>
        </record>

    </data>
</odoo>
