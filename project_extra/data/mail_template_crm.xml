<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="0">

        <record id="calif_mail_tmpl_convocatoria_autorizacion" model="mail.template">
            <field name="name">Solicitud de Autorización de Convocatoria</field>
            <field name="model_id" ref="crm.model_crm_lead"/>
            <field name="email_from">Sistema &lt;no-reply@mi-empresa.com&gt;</field>
            <field name="email_to"></field>
            <field name="subject">[Convocatoria] Solicitud de autorización - {{object.name}}</field>
            <field name="body_html" type="html">
                <div style="font-family: Arial, sans-serif; font-size: 14px; color: #333;">
                    <p>Estimado/a,</p>
                    <p>Se ha registrado una <b>solicitud de autorización</b> para la convocatoria:</p>
                    <ul>
                        <li><b>Nombre: </b><t t-if="object.name"><span t-out="object.name or ''"/></t></li>
                        <li><b>Dependencia emisora: </b><t t-if="object.partner_emisor_id"><t t-out="object.partner_emisor_id.name"></t></t></li>
                        <li><b>Tipo de obra: </b><t t-if="object.tipo_obra_id"><t t-out="object.tipo_obra_id.name"></t></t></li>
                        <li><b>Zona geográfica: </b><t t-if="object.zona_geografica_id"><t t-out="object.zona_geografica_id.name"></t></t></li>
                        <li><b>Fecha convocatoria: </b><t t-if="object.fecha_convocatoria"><t t-out="object.fecha_convocatoria"></t></t></li>
                        <li><b>Fecha límite inscripción: </b><t t-if="object.fecha_limite_inscripcion"><t t-out="object.fecha_limite_inscripcion"></t></t></li>
                    </ul>
                    <table align="center">
                        <tr>
                            <td>
                                <a t-att-href="'%s/project_extra/convocatoria/%s/authorize' % (object.get_base_url(), object.id)" style="display:inline-block; padding:8px 14px; background:#28a745; color:#fff; border-radius:4px; text-decoration:none; font-size:12px;">Autorizar</a>
                            </td>
                            <td>
                                <a t-att-href="'%s/project_extra/convocatoria/%s/decline' % (object.get_base_url(), object.id)" style="display:inline-block;padding:8px 14px;background:#dc3545;color:#fff;border-radius:4px;text-decoration:none;font-size:12px;">Declinar</a>
                            </td>
                            <td>
                                <a t-att-href="'%s/web#id=%s&amp;model=crm.lead&amp;view_type=form' % (object.get_base_url(), object.id)" style="display:inline-block; padding:8px 14px; background:#6c757d; color:#fff; border-radius:4px; text-decoration:none;font-size:12px;">Ver</a>
                            </td>
                        </tr>
                    </table>
                    <p>Enviado automáticamente por el Sistema.</p>
                </div>
            </field>
        </record>

        <record id="mail_tmpl_bases_solicitud" model="mail.template">
            <field name="name">Solicitud de Autorización de Compra de Bases</field>
            <field name="model_id" ref="crm.model_crm_lead"/>
            <field name="email_from">Sistema &lt;no-reply@mi-empresa.com&gt;</field>
            <field name="email_to"></field>
            <field name="subject">[Bases] Solicitud de autorización - {{object.name}}</field>
            <field name="body_html" type="html">
                <div style="font-family: Arial, sans-serif; font-size: 14px; color: #333;">
                    <p>Estimado/a,</p>
                    <p>Se ha registrado una <b>solicitud de autorización</b> para la compra de bases para la convocatoria con Número de Licitación <span t-out="object.no_licitacion or ''"/>:</p>
                    <ul>
                        <li><b>Nombre: </b><t t-if="object.name"><span t-out="object.name or ''"/></t></li>
                        <li><b>Dependencia emisora: </b><t t-if="object.partner_emisor_id"><t t-out="object.partner_emisor_id.name"></t></t></li>
                        <li><b>Tipo de obra: </b><t t-if="object.tipo_obra_id"><t t-out="object.tipo_obra_id.name"></t></t></li>
                        <li><b>Zona geográfica: </b><t t-if="object.zona_geografica_id"><t t-out="object.zona_geografica_id.name"></t></t></li>
                        <li><b>Fecha convocatoria: </b><t t-if="object.fecha_convocatoria"><t t-out="object.fecha_convocatoria"></t></t></li>
                        <li><b>Fecha límite inscripción: </b><t t-if="object.fecha_limite_inscripcion"><t t-out="object.fecha_limite_inscripcion"></t></t></li>
                    </ul>
                    <table align="center">
                        <tr>
                            <td>
                                <a t-att-href="'%s/project_extra/bases/%s/authorize' % (object.get_base_url(), object.id)" style="display:inline-block; padding:8px 14px; background:#28a745; color:#fff; border-radius:4px; text-decoration:none; font-size:12px;"> Autorizar </a>
                            </td>
                            <td>
                                <a t-att-href="'%s/project_extra/bases/%s/decline' % (object.get_base_url(), object.id)" style="display:inline-block; padding:8px 14px; background:#dc3545; color:#fff; border-radius:4px; text-decoration:none; font-size:12px;"> Declinar </a>
                            </td>
                            <td>
                                <a t-att-href="'%s/web#id=%s&amp;model=crm.lead&amp;view_type=form' % (object.get_base_url(), object.id)" style="display:inline-block; padding:8px 14px; background:#6c757d; color:#fff; border-radius:4px; text-decoration:none; font-size:12px;"> Ver </a>
                            </td>
                        </tr>
                    </table>
                    <p>Enviado automáticamente por el Sistema.</p>
                </div>
            </field>
        </record>

        <record id="mail_tmpl_bases_autorizar" model="mail.template">
            <field name="name">Compra de bases</field>
            <field name="model_id" ref="purchase.model_purchase_order"/>
            <field name="email_from">Sistema &lt;no-reply@mi-empresa.com&gt;</field>
            <field name="email_to"></field>
            <field name="subject">[Orden de Compra] Base - {{object.name}}</field>
            <field name="body_html" type="html">
                <div style="font-family: Arial, sans-serif; font-size: 14px; color: #333;">
                    <p>Estimado/a,</p>
                    <p>Se ha registrado una <b>orden de compra de bases</b> para la convocatoria:</p>
                    <ul>
                        <li><b>Nombre: </b><t t-if="object.lead_id.name"><span t-out="object.lead_id.name or ''"/></t></li>
                        <li><b>Dependencia emisora: </b><t t-if="object.partner_id"><t t-out="object.partner_id.name"/></t></li>
                        <li><b>Tipo de obra: </b><t t-if="object.lead_id.tipo_obra_id"><t t-out="object.lead_id.tipo_obra_id.name"/></t></li>
                        <li><b>Costo de bases: </b><t t-if="object.amount_total"><t t-out="object.amount_total"/></t></li>
                    </ul>
                    <p>
                        Abrir en la Aplicación:
                        <a t-att-href="'%s/web#id=%s&amp;model=purchase.order&amp;view_type=form' % (object.get_base_url(), object.id)" style="color:#1A73E8; text-decoration:none;" target="_blank" rel="noopener"> Ver orden de compra</a>
                    </p>
                    <p>Enviado automáticamente por el Sistema.</p>
                </div>
            </field>
        </record>

        <record id="mail_tmpl_visita_recordatorio" model="mail.template">
            <field name="name">Recordatorio de Visita de Obra</field>
            <field name="model_id" ref="crm.model_crm_lead"/>
            <field name="email_from">Sistema &lt;no-reply@mi-empresa.com&gt;</field>
            <field name="email_to"></field>
            <field name="subject">[Visita de Obra] Recordatorio - {{object.name}}</field>
            <field name="body_html" type="html">
                <div style="font-family: Arial, sans-serif; font-size: 14px; color: #333;">
                    <p>Estimado/a,</p>
                    <p>Este es un recordatorio de la <b>visita de obra</b> programada.</p>
                    <ul>
                        <li><b>Convocatoria: </b><t t-out="object.name or ''"/></li>
                        <li><b>Fecha y hora de visita: </b><t t-if="object.visita_fecha"><t t-out="object.visita_fecha"/></t></li>
                        <li><b>Lugar de reunión: </b><t t-if="object.visita_lugar_reunion"><t t-out="object.visita_lugar_reunion"/></t></li>
                        <li><b>Personas asignadas: </b><t t-if="object.visita_personas_ids"><t t-out="', '.join(object.visita_personas_ids.mapped('name'))"/></t></li>
                    </ul>
                    <p>
                        Abrir en la Aplicación:
                        <a t-att-href="'%s/web#id=%s&amp;model=crm.lead&amp;view_type=form' % (object.get_base_url(), object.id)" style="color:#1A73E8; text-decoration:none;" target="_blank" rel="noopener">Ver convocatoria</a>
                    </p>
                    <p>Enviado automáticamente por el Sistema.</p>
                </div>
            </field>
        </record>

        <record id="mail_tmpl_junta_recordatorio" model="mail.template">
            <field name="name">Recordatorio junta de aclaración de dudas</field>
            <field name="model_id" ref="crm.model_crm_lead"/>
            <field name="email_from">Sistema &lt;no-reply@mi-empresa.com&gt;</field>
            <field name="email_to"></field>
            <field name="subject">[Junta de aclaración de dudas] Recordatorio - {{object.name}}</field>
            <field name="body_html" type="html">
                <div style="font-family: Arial, sans-serif; font-size: 14px; color: #333;">
                    <p>Buen día,</p>
                    <p>Se les recuerda la <b>junta de aclaración de dudas</b> de la convocatoria <b><t t-out="object.name or ''"/></b>.</p>
                    <ul>
                        <li><b>Fecha y hora de la junta: </b><t t-if="object.junta_fecha"><t t-out="format_datetime(object.junta_fecha, dt_format='long')">day, month dd, yyyy - hh:mm:ss (GMT)</t></t></li>
                        <li><b>Lugar de reunión: </b><t t-if="object.junta_lugar_reunion"><t t-out="object.junta_lugar_reunion"/></t></li>
                    </ul>
                    <p>
                        Abrir en la Aplicación:
                        <a t-att-href="'%s/web#id=%s&amp;model=crm.lead&amp;view_type=form' % (object.get_base_url(), object.id)" style="color:#1A73E8; text-decoration:none;" target="_blank" rel="noopener">Ver convocatoria</a>
                    </p>
                    <p>Enviado automáticamente por el Sistema.</p>
                </div>
            </field>
        </record>

        <record id="mail_tmpl_junta_dudas_deadline" model="mail.template">
            <field name="name">Recordatorio fecha límite de dudas</field>
            <field name="model_id" ref="crm.model_crm_lead"/>
            <field name="email_from">Sistema &lt;no-reply@mi-empresa.com&gt;</field>
            <field name="subject">[Junta de aclaración de dudas] Recordatorio - {{ object.name }}</field>
            <field name="body_html" type="html">
                <div style="font-family: Arial, sans-serif; font-size: 14px; color: #333;">
                    <p>
                        Este es un recordatorio de que <t t-if="object.junta_fecha_limite_dudas"><t t-out="object.junta_fecha_limite_dudas"/></t> es la fecha límite para enviar dudas para su aclaración.
                    </p>
                    <p>No es necesario realizar ninguna acción adicional si la información ya fue enviada.</p>
                </div>
            </field>
        </record>

        <record id="mail_tmpl_apertura_recordatorio" model="mail.template">
            <field name="name">Recordatorio junta de apertura de propuestas</field>
            <field name="model_id" ref="crm.model_crm_lead"/>
            <field name="email_from">Sistema &lt;no-reply@mi-empresa.com&gt;</field>
            <field name="email_to"></field>
            <field name="subject">[Junta de apertura de propuestas] Recordatorio - {{ object.name }}</field>
            <field name="body_html" type="html">
                <div style="font-family: Arial, sans-serif; font-size: 14px; color: #333;">
                    <p>Buen día,</p>
                    <p>
                        Se les recuerda la <b>junta de apertura de propuestas</b> de la convocatoria <b><t t-out="object.name or ''"/></b>.
                    </p>
                    <ul>
                        <li><b>Fecha de la junta: </b><t t-if="object.apertura_fecha"><t t-out="format_datetime(object.apertura_fecha, dt_format='long')">day, month dd, yyyy - hh:mm:ss (GMT)</t></t></li>
                        <li><b>Lugar de reunión: </b><t t-if="object.apertura_lugar_reunion"><t t-out="object.apertura_lugar_reunion"/></t></li>
                    </ul>
                    <p>
                        Abrir en la Aplicación:
                        <a t-att-href="'%s/web#id=%s&amp;model=crm.lead&amp;view_type=form' % (object.get_base_url(), object.id)" style="color:#1A73E8; text-decoration:none;" target="_blank" rel="noopener"> Ver convocatoria </a>
                    </p>
                    <p>Enviado automáticamente por el Sistema.</p>
                </div>
            </field>
        </record>

        <record id="mail_tmpl_fallo_ganado" model="mail.template">
            <field name="name">Notificación fallo GANADO</field>
            <field name="model_id" ref="crm.model_crm_lead"/>
            <field name="email_from">Sistema &lt;no-reply@mi-empresa.com&gt;</field>
            <!-- Deja email_to vacío para que sea configurable desde la UI -->
            <field name="email_to">Sistema &lt;no-reply@mi-empresa.com&gt;</field>
            <field name="subject">[Fallo] Resultado GANADO - {{ object.name }}</field>
            <field name="body_html" type="html">
                <div style="font-family: Arial, sans-serif; font-size: 14px; color: #333;">
                    <p>Buen día,</p>
                    <p>
                        Se informa que la licitación correspondiente a la convocatoria <b><t t-out="object.name or ''"/></b> ha sido marcada como <b>GANADA</b> en el sistema.
                    </p>
                    <ul>
                        <li><b>Fecha y hora de la junta: </b><t t-if="object.fallo_fecha"><t t-out="format_datetime(object.fallo_fecha, dt_format='long')">day, month dd, yyyy - hh:mm:ss (GMT)</t></t></li>
                        <li><b>Lugar de reunión: </b><t t-if="object.fallo_lugar_reunion"><t t-out="object.fallo_lugar_reunion"/></t></li>
                    </ul>
                    <p>
                        Abrir en la Aplicación:
                        <a t-att-href="'%s/web#id=%s&amp;model=crm.lead&amp;view_type=form' % (object.get_base_url(), object.id)" style="color:#1A73E8; text-decoration:none;" target="_blank" rel="noopener"> Ver convocatoria </a>
                    </p>
                    <p>Enviado automáticamente por el Sistema.</p>
                </div>
            </field>
        </record>

        <record id="fallo_ganado_mail_tmpl_directores" model="mail.template">
            <field name="name">Notificación fallo GANADO a Directores</field>
            <field name="model_id" ref="crm.model_crm_lead"/>
            <field name="email_from">Sistema &lt;no-reply@mi-empresa.com&gt;</field>
            <field name="email_to"></field>
            <field name="subject">[Fallo GANADO] Notificación a Dirección - {{ object.name }}</field>
            <field name="body_html" type="html">
                <div style="font-family: Arial, sans-serif; font-size: 14px; color: #333;">
                    <p>Estimado/a Director/a,</p>
                    <p>
                        Se le informa que la licitación correspondiente a la convocatoria <b><t t-out="object.name or ''"/></b> ha sido marcada como <b style="color: #28a745;">GANADA</b> en el sistema.
                    </p>
                    <ul>
                        <li><b>No. de Procedimiento: </b><t t-if="object.no_licitacion"><t t-out="object.no_licitacion"/></t></li>
                        <li><b>Dependencia emisora: </b><t t-if="object.partner_emisor_id"><t t-out="object.partner_emisor_id.name"/></t></li>
                        <li><b>Tipo de obra: </b><t t-if="object.tipo_obra_id"><t t-out="object.tipo_obra_id.name"/></t></li>
                        <li><b>Fecha de la junta de fallo: </b><t t-if="object.fallo_fecha"><t t-out="object.fallo_fecha"/></t></li>
                    </ul>
                    <p>
                        Abrir en la Aplicación:
                        <a t-att-href="'%s/web#id=%s&amp;model=crm.lead&amp;view_type=form' % (object.get_base_url(), object.id)" style="color:#1A73E8; text-decoration:none;" target="_blank" rel="noopener"> Ver convocatoria </a>
                    </p>
                    <p>Enviado automáticamente por el Sistema.</p>
                </div>
            </field>
        </record>

    </data>
</odoo>
